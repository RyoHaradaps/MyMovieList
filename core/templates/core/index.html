<!DOCTYPE html>
<html lang="en" class="dark">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MyMovieList</title>
  <script>
    // Enable dark mode by default (you can later improve this with a toggle)
    document.documentElement.classList.add('dark');
  </script>
</head>

<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white min-h-screen transition duration-300">

  {% extends "core/base.html" %}

  {% block title %}MyMovieList{% endblock %}

  {% block content %}
  <!-- Your main content starts here -->
  <nav class="bg-white dark:bg-gray-800 shadow px-6 py-4 flex items-center justify-between">
    <div class="flex items-center gap-3">
      <!-- Logo -->
      <svg class="w-8 h-8 text-sky-500" fill="currentColor" viewBox="0 0 24 24">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 
        10 10 10-4.48 10-10S17.52 2 12 2zm0 3a1 
        1 0 011 1v6a1 1 0 01-1 1H7a1 1 0 
        010-2h4V6a1 1 0 011-1zm0 14c-2.67 
        0-5.14-1.05-7.07-2.93a9.96 9.96 0 
        01-2.2-3.34 1 1 0 011.87-.74c.4.99 
        1 1.9 1.74 2.65A7.961 7.961 0 0012 
        18c1.77 0 3.42-.57 4.73-1.53a8.046 
        8.046 0 002.37-3.07 1 1 0 
        011.84.8 9.988 9.988 0 01-2.88 
        3.72A9.931 9.931 0 0112 19z" />
      </svg>
      <span class="font-semibold text-xl">MyMovieList</span>
    </div>

    <!-- Search -->
    <form method="GET" action="{% url 'search' %}" class="flex-1 mx-4 max-w-xl">
      {% csrf_token %}
      <input type="text" name="q" placeholder="Search movies..."
        class="w-full px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500" />
    </form>

    <!-- User options -->
    <div class="flex items-center gap-4 text-sm">
      {% if profile %}
      <span>Hello, {{ profile.username }}</span>
      <a href="{% url 'logout' %}" class="text-sky-500 hover:underline">Logout</a>
      {% else %}
      <a href="{% url 'login' %}" class="text-sky-500 hover:underline">Login</a>
      <a href="{% url 'register' %}" class="text-sky-500 hover:underline">Register</a>
      {% endif %}
    </div>
  </nav>

  <main class="px-6 py-10">
    <h1 class="text-3xl font-bold mb-6 text-center">Popular Movies</h1>

    <div class="grid gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
      {% for movie in movies %}
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-lg transition duration-300 overflow-hidden">
        <img src="{{ movie.poster_url }}" alt="{{ movie.title }}" class="w-full h-56 object-cover" />
        <div class="p-4">
          <h2 class="text-lg font-semibold mb-1 truncate">{{ movie.title }}</h2>
          <p class="text-sm text-gray-500 dark:text-gray-400 mb-2 truncate">{{ movie.genre }}</p>
          <p class="text-xs text-gray-600 dark:text-gray-300">Rating: {{ movie.rating }}/10</p>
        </div>
      </div>
      {% empty %}
      <p class="text-center col-span-full">No movies found.</p>
      {% endfor %}
    </div>
  </main>
  {% endblock %}

</body>

</html>